$("#washing-form").submit(function(e){var a,t,n,s,o,i=$("#form--msClassName").val(),h=$("#form--characterLevel").val(),r=$("#form--characterMP").val(),d=GetWashableManaPoints(i,h,r),P=GetWashes(i,d),l=GetWashedManaPoints(i,P),m=GetMinimalHealthPointGainWashNow(i,P),r=GetAverageHealthPointGainWashNow(i,P),d=GetFreshAPsLeft(h),h=GetOptimalWashingStrategy(i),u=[];"either"===h?(t=document.createElement("p"),a=document.createTextNode(`[Wash using APs or APRs] You can wash ${l} MP at any time using ${P} APs or APRs to gain at least ${m} HP and on average ${r} HP.`),t.appendChild(a),u.push(t)):"reset"===h?(t=document.createElement("p"),n=document.createTextNode(`[Wash using APs only] You can wash ${l} MP at any time using ${P} APRs (do not use APs) to gain at least ${m} HP and on average ${r} HP.`),t.appendChild(n),u.push(t)):"fresh"===h&&(a=Math.min(d,P),n=Math.max(P-a,0),t=GetWashedManaPoints(i,a),h=GetWashedManaPoints(i,n),d=GetMinimalHealthPointGainOptimal(i,a,n),i=GetAverageHealthPointGainOptimal(i,a,n),0<n?(s=document.createElement("p"),o=document.createTextNode(`[Option 1: Wash everything now (non-optimal)] You can wash ${l} MP now using ${P} APRs to gain at least ${m} HP and on average ${r} HP.`),s.appendChild(o),u.push(s),o=document.createElement("p"),n=document.createTextNode(`[Option 2: Wash using fresh APs (optimal)] You can wash ${h} MP now using ${n} APRs, and then use ${a} fresh APs to wash ${t} MP. This gains at least ${d} HP and on average ${i} HP.`),o.appendChild(n)):(s=document.createElement("p"),r=document.createTextNode(`[Option 1: Wash everything now (non-optimal)] You can wash ${l} MP now using ${P} APRs to gain at least ${m} HP and on average ${r} HP.`),s.appendChild(r),u.push(s),o=document.createElement("p"),i=document.createTextNode(`[Option 2: Wash using fresh APs (optimal)] You can wash ${t} MP using ${a} fresh APs to gain at least ${d} HP and on average ${i} HP.`),o.appendChild(i)),u.push(o));const p=document.getElementById("form-output");p.textContent="";for(var c=0;c<u.length;c++)p.appendChild(u[c]);e.preventDefault()});
