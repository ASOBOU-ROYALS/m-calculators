$("#washing-form").submit(function(event){var hpGainWashOptimalAvg=$("#form--msClassName").val(),optimalWashLaterAPs=$("#form--characterLevel").val(),hpGainWashOptimalMin=$("#form--characterMP").val(),mpWashedNowOptimal=GetWashableManaPoints(hpGainWashOptimalAvg,optimalWashLaterAPs,hpGainWashOptimalMin),numWashesLeft=GetWashes(hpGainWashOptimalAvg,mpWashedNowOptimal),actualWashedMP=GetWashedManaPoints(hpGainWashOptimalAvg,numWashesLeft),hpGainWashNowMin=GetMinimalHealthPointGainWashNow(hpGainWashOptimalAvg,numWashesLeft),hpGainWashNowAvg=GetAverageHealthPointGainWashNow(hpGainWashOptimalAvg,numWashesLeft),hpGainWashOptimalMin=GetFreshAPsLeft(optimalWashLaterAPs),mpWashedNowOptimal=GetOptimalWashingStrategy(hpGainWashOptimalAvg),elements=[];if("either"===mpWashedNowOptimal){var mpWashedLaterOptimal=document.createElement("p"),textNode2=document.createTextNode(`[Wash using APs or APRs] You can wash ${actualWashedMP} MP at any time using ${numWashesLeft} APs or APRs to gain at least ${hpGainWashNowMin} HP and on average ${hpGainWashNowAvg} HP.`);mpWashedLaterOptimal.appendChild(textNode2),elements.push(mpWashedLaterOptimal)}else if("reset"===mpWashedNowOptimal){mpWashedLaterOptimal=document.createElement("p");const textNode=document.createTextNode(`[Wash using APs only] You can wash ${actualWashedMP} MP at any time using ${numWashesLeft} APRs (do not use APs) to gain at least ${hpGainWashNowMin} HP and on average ${hpGainWashNowAvg} HP.`);mpWashedLaterOptimal.appendChild(textNode),elements.push(mpWashedLaterOptimal)}else if("fresh"===mpWashedNowOptimal){optimalWashLaterAPs=Math.min(hpGainWashOptimalMin,numWashesLeft),textNode2=Math.max(numWashesLeft-optimalWashLaterAPs,0),mpWashedLaterOptimal=GetWashedManaPoints(hpGainWashOptimalAvg,optimalWashLaterAPs),mpWashedNowOptimal=GetWashedManaPoints(hpGainWashOptimalAvg,textNode2),hpGainWashOptimalMin=GetMinimalHealthPointGainOptimal(hpGainWashOptimalAvg,optimalWashLaterAPs,textNode2),hpGainWashOptimalAvg=GetAverageHealthPointGainOptimal(hpGainWashOptimalAvg,optimalWashLaterAPs,textNode2);if(0<textNode2){var element1=document.createElement("p"),element2=document.createTextNode(`[Option 1: Wash everything now (non-optimal)] You can wash ${actualWashedMP} MP now using ${numWashesLeft} APRs to gain at least ${hpGainWashNowMin} HP and on average ${hpGainWashNowAvg} HP.`);element1.appendChild(element2),elements.push(element1);var element2=document.createElement("p"),textNode2=document.createTextNode(`[Option 2: Wash using fresh APs (optimal)] You can wash ${mpWashedNowOptimal} MP now using ${textNode2} APRs, and then use ${optimalWashLaterAPs} fresh APs to wash ${mpWashedLaterOptimal} MP. This gains at least ${hpGainWashOptimalMin} HP and on average ${hpGainWashOptimalAvg} HP.`);element2.appendChild(textNode2),elements.push(element2)}else{element1=document.createElement("p");const textNode1=document.createTextNode(`[Option 1: Wash everything now (non-optimal)] You can wash ${actualWashedMP} MP now using ${numWashesLeft} APRs to gain at least ${hpGainWashNowMin} HP and on average ${hpGainWashNowAvg} HP.`);element1.appendChild(textNode1),elements.push(element1);element2=document.createElement("p");const textNode2=document.createTextNode(`[Option 2: Wash using fresh APs (optimal)] You can wash ${mpWashedLaterOptimal} MP using ${optimalWashLaterAPs} fresh APs to gain at least ${hpGainWashOptimalMin} HP and on average ${hpGainWashOptimalAvg} HP.`);element2.appendChild(textNode2),elements.push(element2)}}const outputNode=document.getElementById("form-output");outputNode.textContent="";for(var i=0;i<elements.length;i++)outputNode.appendChild(elements[i]);event.preventDefault()});
